import { useRef, useEffect } from 'react';
// import './EmojiPickerPersistent.css'; // optional: move your styles here

const emojis = [
  // Smileys & People (big chunk)
  '😀','😃','😄','😁','😆','😅','😂','🤣','😊','😇','🙂','🙃','😉','😊','😌','😍','🥰','😘','😗','😙','😚',
  '😋','😛','😝','😜','🤪','🤨','🧐','🤓','😎','🥸','🤩','🥳','😏','😒','😞','😔','😟','😕','🙁','☹️',
  '😣','😖','😫','😩','🥺','😢','😭','😤','😠','😡','🤬','🤯','😳','🥵','🥶','😱','😨','😰','😥','😓',
  '🤗','🤔','🫣','🤭','🫢','🫡','🤫','🤥','😶','😐','😑','😬','🙄','😯','😦','😧','😮','😲','🥱','😴',
  '🤤','😪','😵','😵‍💫','🤐','🥴','🤢','🤮','🤧','😷','🤒','🤕','🤑','🤠','😈','👿','👹','👺','💀','☠️',
  '👻','👽','👾','🤖','🤡','🥸','🫠',

  // Gestures & Hands
  '🙋','🙆','🙅','🙇','🤦','🤷','🙎','🙍','💁','🙌','👏','🤝','👍','👎','👊','✊','🤛','🤜','🤲','🤌',
  '🤏','✌️','🤞','🤟','🤘','👌','👈','👉','👆','👇','☝️','✋','🤚','🖐️','🖖','👋','🤙','💪','🦵','🦶',
  '🫱','🫲','🫳','🫴','🫵','🫰','🫷','🫸','🙏',

  // People & Roles / Activities
  '🧑','👩','👨','👧','👦','👶','🧒','👵','👴','🧓','🧑‍🦱','🧑‍🦰','🧑‍🦳','🧑‍🦲',
  '🧑‍⚕️','👩‍⚕️','👨‍⚕️','🧑‍🎓','👩‍🎓','👨‍🎓','🧑‍🏫','👩‍🏫','👨‍🏫','🧑‍⚖️','👩‍⚖️','👨‍⚖️',
  '👮','👷','💂','🕵️','🤴','👸','👳','👲','🧕','🤵','🤶','🎅','🧑‍🍳','👩‍🍳','👨‍🍳','🧑‍🔧','🧑‍🏭','🧑‍💼','🧑‍🔬','🧑‍💻','🧑‍🎤','🧑‍🎨','🧑‍🚀','🧑‍✈️','🏃','🏃‍♂️','🏃‍♀️','🚶','🚶‍♂️','🚶‍♀️','🧗','🧗‍♂️','🧗‍♀️','🏄','🏄‍♂️','🏄‍♀️','🏊','🏊‍♂️','🏊‍♀️','⛹️','🤸','🤼','🤽','🤾','🏌️','🏇','🤹','🧘',

  // Families & ZWJ groups
  '👪','👨‍👩‍👧','👨‍👩‍👧‍👦','👩‍👩‍👧','👨‍👨‍👧‍👦','👩‍👧','👨‍👧','👩‍👧‍👦','👨‍👧‍👦','👩‍👩‍👦‍👦','👨‍👨‍👧‍👧',

  // Animals & Nature
  '🐶','🐱','🐭','🐹','🐰','🦊','🦝','🐻','🐼','🐨','🐯','🦁','🐮','🐷','🐽','🐸','🐵','🙈','🙉','🙊',
  '🐒','🐔','🐧','🐦','🐤','🐣','🐥','🦆','🦅','🦉','🦇','🐺','🐗','🐴','🦄','🦓','🦌','🦬','🦙','🐮',
  '🐝','🪲','🐞','🦋','🐌','🐚','🐢','🐍','🦎','🦂','🦀','🦞','🦐','🦑','🐙','🐠','🐟','🐡','🐬','🐳',
  '🐋','🦈','🐊','🦧','🦣','🐘','🦛','🦏','🐪','🐫','🦒','🦘','🦥','🦨','🦡','🦔','🦢','🕊️','🦩','🦚',
  '🦜','🌵','🎄','🌲','🌳','🌴','🌱','🌿','☘️','🍀','🍁','🍂','🍃','🍄','🌾','💐','🌸','🌷','🌹','🥀','🌺','🌻','🌼','🌵',

  // Food & Drink
  '🍏','🍎','🍐','🍊','🍋','🍌','🍉','🍇','🍓','🫐','🍈','🍒','🍑','🥭','🍍','🥥','🥝','🍅','🍆','🥑',
  '🥦','🥬','🥒','🌶️','🫑','🌽','🥕','🫒','🧄','🧅','🥔','🍠','🥐','🥯','🍞','🥖','🥨','🧀','🥚','🍳',
  '🧈','🥞','🧇','🥓','🥩','🍗','🍖','🌭','🍔','🍟','🍕','🥪','🥙','🧆','🌮','🌯','🥗','🥘','🫕',
  '🍝','🍜','🍲','🍛','🍣','🍱','🥟','🍤','🍙','🍚','🍘','🍥','🥠','🥡','🍦','🍧','🍨','🍩','🍪','🎂',
  '🍰','🧁','🥧','🍫','🍬','🍭','🍯','🥛','🍼','☕','🍵','🧉','🧃','🥤','🍶','🍺','🍻','🥂','🍷','🥃','🍸','🍹','🍾','🥢','🍽️','🍴','🔪','🥣',

  // Activities & Sports
  '⚽','🏀','🏈','⚾','🥎','🎾','🏐','🏉','🥏','🎱','🏓','🏸','🥅','🏒','🏑','🥍','🏏','🥊','🥋','🥇','🥈','🥉','🏆','🏅','🎖️','🎯','🎳','🎮','🕹️','🎲','🧩','♟️','🧗‍♀️','🧗‍♂️',

  // Travel & Transport
  '🚗','🚕','🚙','🚌','🚎','🏎️','🚓','🚑','🚒','🚐','🛻','🚚','🚛','🚜','🛵','🏍️','🚲','🛴','🛵','🚨','🚥','🚦','🛑','🚧','⛽','🚏','🛣️','🛤️','🛞',
  '⚓','⛵','🛶','🚤','🛳️','⛴️','🛥️','🚢','✈️','🛫','🛬','🪂','🚁','🚟','🚠','🚡','🚀','🛸','🛰️','🚆','🚄','🚅','🚈','🚝','🚋','🚞','🚃','🚎','🚍',

  // Buildings & Places
  '🏠','🏡','🏘️','🏚️','🏗️','🏭','🏢','🏬','🏣','🏤','🏥','🏦','🏨','🏩','💒','⛪','🕌','🛕','🕍','🛤','🗼','🗽','⛺','🏕️','🏖️','🏜️','🏝️','🏟️','🎡','🎢','🎠','🛣️',

  // Objects & Tech
  '⌚','📱','📲','💻','⌨️','🖥️','🖨️','🖱️','🖲️','💽','💾','💿','📀','📼','📷','📸','📹','🎥','📽️','🎞️','📞','☎️','📟','📠','📺','📻','🎙️','🎚️','🎛️','📡','🔋','🔌','💡','🔦','🏮','🪔','🕯️','📯','📦','📫','📪','📬','📭','📮','✉️','📧','📨','📩',

  // Office / Writing / Money
  '🖊️','🖋️','✒️','📝','📒','📔','📕','📗','📘','📙','📚','📖','🔖','📎','🖇️','📐','📏','📌','📍','📅','📆','🗓️','🗃️','🗂️','🗞️','📰','💼','💴','💵','💶','💷','💳','💸','💰','💎','🪙',

  // Science, Medical, Tools
  '🔬','🔭','🧪','🧫','🧬','🩺','🩹','💉','🩸','🛠️','🔧','🔨','⚒️','🪓','🧰','⛏️','⚙️','🔩','🔗','🧲','🪜','🧯','🔒','🔓','🔏','🔐','🧪','🧯','🩺',

  // Music & Arts
  '🎵','🎶','🎼','🎧','🎤','🎷','🪗','🎸','🪕','🎹','🥁','🎺','🎻','🎬','🎨','🖼️','🧵','🧶','🎭','🎪','🩰',

  // Weather & Time
  '☀️','🌤️','⛅','🌥️','☁️','🌦️','🌧️','⛈️','🌩️','🌨️','❄️','☃️','🌬️','💨','💧','💦','☔','⚡','🌪️','🌫️','🕛','🕧','🕐','🕜','🕑','🕝','🕒','🕞','🕓','🕟','🕔','🕠','🕕','🕡','🕖','🕢','🕗','🕣','🕘','🕤','🕙','🕥','🕚','🕦','⏰','⏱','⏲','⏳','⌛',

  // Symbols & Shapes
  '❤️','🧡','💛','💚','💙','💜','🖤','🤍','🤎','💔','❣️','💕','💞','💓','💗','💖','💘','💝','💟',
  '⭐','🌟','✨','⚡','🔥','💥','☄️','💫','🌈','❄️','☃️','⚪','⚫','🔴','🔵','🟢','🟡','🟠','🟣','🟥','🟧','🟨','🟩','🟦','🟪','⬛','⬜',
  '🔺','🔻','🔸','🔹','🔶','🔷','🔳','🔲','🔼','🔽','⤴️','⤵️','🔁','🔂','🔃','🔄','➡️','⬅️','↗️','↘️','↙️','↖️','↪️','↩️',
  '⏮️','⏭️','⏯️','⏸️','⏹️','⏺️','▶️','⏩','⏪','🔀','🔁','🔂','🔀','🔚','🔙','🔛','🔝','🔜','🔃','🔄',
  '✔️','✅','✖️','❌','➕','➖','➗','✳️','✴️','❇️','‼️','⁉️','❓','❔','❗','🔔','🔕','🔖','🏧','🚮','🚰','♿','🚭','⚠️','🚸','🔞','☢️','☣️','☮️','✝️','☪️','🕉️','☸️','✡️','🔯','🕎','☯️','🔘','🔗','📛','🔰','⭕','🔱','🎌','🏴‍☠️',

  // Keycaps & Alphanum
  '0️⃣','1️⃣','2️⃣','3️⃣','4️⃣','5️⃣','6️⃣','7️⃣','8️⃣','9️⃣','#️⃣','*️⃣','🔟',
  '🔠','🔡','🔢','🔣','🔤','🅰️','🅱️','🆎','🆑','🆒','🆓','🆕','🆖','🆗','🆘','🆙','🆚',

  // Zodiac & Chess / Cards / Games
  '♈','♉','♊','♋','♌','♍','♎','♏','♐','♑','♒','♓','♠️','♥️','♦️','♣️','🃏','🎴','🀄','♟️',

 
  // Misc / Rare / UI
  '🔍','🔎','🔬','🔭','🧭','🧱','🔧','🔩','⚙️','🧯','🚪','🪑','🛏️','🛋️','🚿','🛁','🧴','🧷','🧹','🧺','🧻','🪥','🪒','🧼','🪣','🧯',
  '🧭','🧮','🎛️','🧾','📊','📈','📉','🗳️','📌','📍','📎','🖇️','📐','📏','🧰','🪛','⚗️','🔭','🧪',

  // A few emoji-sequences people often like (profession + modifier combos)
  '👩‍⚕️','👨‍⚕️','👩‍🏫','👨‍🏫','👩‍🍳','👨‍🍳','👩‍🔧','👨‍🔧','👩‍🏭','👨‍🏭','👩‍🚒','👨‍🚒','👮‍♀️','👮‍♂️','👩‍✈️','👨‍✈️','👩‍⚖️','👨‍⚖️','👩‍💻','👨‍💻','🧑‍🏫','🧑‍⚖️','🧑‍🚀',

  // Longevity additions: small sample of newer / niche emojis
  '🫡','🫢','🫣','🫥','🫧','🪄','🪅','🪆','🪐','🪙','🪘','🪗','🪕','🪓','🪚','🪛','🪜','🪰','🪱','🪲','🪳','🪴','🪵','🪺',

  // End-of-array extras (symbols / punctuation / fun)
  '©️','®️','™️','ℹ️','⚕️','⚖️','⚗️','♻️','⚜️','✳️','✴️','〽️','✳️','♨️','🈶','🈯','🈚','🈸','🈺','🈷️','🈹',

  // A
  '🇦🇫','🇦🇱','🇩🇿','🇦🇩','🇦🇴','🇦🇬','🇦🇷','🇦🇲','🇦🇺','🇦🇹','🇦🇿',
  // B
  '🇧🇸','🇧🇭','🇧🇩','🇧🇧','🇧🇾','🇧🇪','🇧🇿','🇧🇯','🇧🇹','🇧🇴','🇧🇦','🇧🇼','🇧🇷','🇧🇳','🇧🇬','🇧🇫','🇧🇮',
  // C
  '🇰🇭','🇨🇲','🇨🇦','🇨🇻','🇨🇫','🇹🇩','🇨🇱','🇨🇳','🇨🇴','🇰🇲','🇨🇬','🇨🇩','🇨🇷','🇭🇷','🇨🇺','🇨🇾','🇨🇿',
  // D
  '🇩🇰','🇩🇯','🇩🇲','🇩🇴',
  // E
  '🇪🇨','🇪🇬','🇸🇻','🇬🇶','🇪🇷','🇪🇪','🇸🇿','🇪🇹',
  // F
  '🇫🇯','🇫🇮','🇫🇷',
  // G
  '🇬🇦','🇬🇲','🇬🇪','🇩🇪','🇬🇭','🇬🇷','🇬🇩','🇬🇹','🇬🇳','🇬🇼','🇬🇾',
  // H
  '🇭🇹','🇭🇳','🇭🇺',
  // I
  '🇮🇸','🇮🇳','🇮🇩','🇮🇷','🇮🇶','🇮🇪','🇮🇱','🇮🇹',
  // J
  '🇯🇲','🇯🇵','🇯🇴',
  // K
  '🇰🇿','🇰🇪','🇰🇮','🇰🇵','🇰🇷','🇰🇼','🇰🇬',
  // L
  '🇱🇦','🇱🇻','🇱🇧','🇱🇸','🇱🇷','🇱🇾','🇱🇹','🇱🇺',
  // M
  '🇲🇬','🇲🇼','🇲🇾','🇲🇻','🇲🇱','🇲🇹','🇲🇭','🇲🇷','🇲🇺','🇲🇽','🇫🇲','🇲🇩','🇲🇨','🇲🇳','🇲🇪','🇲🇦','🇲🇿','🇲🇲',
  // N
  '🇳🇦','🇳🇷','🇳🇵','🇳🇱','🇳🇿','🇳🇮','🇳🇪','🇳🇬','🇲🇰','🇳🇴',
  // OEmojiPicker
  '🇴🇲',
  // P
  '🇵🇰','🇵🇼','🇵🇦','🇵🇬','🇵🇾','🇵🇪','🇵🇭','🇵🇱','🇵🇹','🇵🇷','🇵🇸','🇻🇦',
  // Q
  '🇶🇦',
  // R
  '🇷🇴','🇷🇺','🇷🇼',
  // S
  '🇰🇳','🇱🇨','🇻🇨','🇼🇸','🇸🇲','🇸🇹','🇸🇦','🇸🇳','🇷🇸','🇸🇨','🇸🇱','🇸🇬','🇸🇰','🇸🇮','🇸🇧','🇸🇴','🇿🇦','🇸🇸','🇪🇸','🇱🇰','🇸🇩','🇸🇷','🇸🇪','🇨🇭','🇸🇾',
  // T
  '🇹🇯','🇹🇿','🇹🇭','🇹🇱','🇹🇬','🇹🇴','🇹🇹','🇹🇳','🇹🇷','🇹🇲','🇹🇻',
  // U
  '🇺🇬','🇺🇦','🇦🇪','🇬🇧','🇺🇸','🇺🇾','🇺🇿',
  // V
  '🇻🇺','🇻🇪','🇻🇳',
  // Y
  '🇾🇪',
  // Z
  '🇿🇲','🇿🇼'
];

export default function EmojiPicker({ onSelect }) {
  const ref = useRef(null);

  useEffect(() => {
    const onDoc = (e) => {
      if (!ref.current) return;
      if (!ref.current.contains(e.target)) {
        // parent controls visibility on outside click
      }
    };
    document.addEventListener('click', onDoc);
    return () => document.removeEventListener('click', onDoc);
  }, []);

  return (
    <div className="emoji-picker-persistent" ref={ref}>
      {emojis.map(e => (
        <button key={e} className="emoji-btn" type="button" onClick={() => onSelect(e)}>
          {e}
        </button>
      ))}
    </div>
  );
}
